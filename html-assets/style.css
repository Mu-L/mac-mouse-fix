
/* Following this tutorial: https://devilgate.org/blog/2012/07/02/tip-using-pandoc-to-create-truly-standalone-html-files/ */

/* 
    Notes:
    - On autogenerated pandoc CSS: [Mar 2025]
        (This might be redundant, I might have written about this somewhere else already)
        This custom css is has to coexist/fight with the css that pandoc creates when we convert Markdown to HTML. 
        IIRC, we managed to disable some, but not all css that pandoc generates.
        IIRC, the blockquote.markdown-alert styling in here is kinda broken because we disabled some of the pandoc CSS. 
            However, it's currently unused (It requires js which wasn't enabled in the update window of older MMF versions) – so it's not worth fixing for now. (Also we found other decent ways of displaying 'altert-boxes'.)
        Pandoc is really a pain to work with. We should've picked something much more lightweight.
*/

:root {
    font-size: 10px; /* 1 rem is this much */
    padding: 0 0 0 0;
    background-color: transparent; /* pandoc automatically applies styling where the bg is white. So we need to override that. */
}

body {
    background-color: transparent;
    margin: 0 1.2rem 2.0rem 1.2rem;
    padding: 0;
    font-family: -apple-system;
    font-size: 1.3rem;

    line-height: 1.15em;
}

h1, h2, h3, h4, h5, h6 {
    line-height: 1.15em;
}

h1:after, h2:after {
    content:' ';
    display: block;
    border: 0.5px solid rgba(0, 0, 0, 0.12);
}
h1:after {
    margin: 0.6rem 0 0 0;
}
h2:after {
    margin: 0.4rem 0 0 0;
}

h1 {
    font-size: 2.2rem;
    margin: 2.2rem 0 1.3rem -0.0rem;
}

h2 {
    font-size: 1.7rem;
    margin: 2.0rem 0 1.7rem -0.0rem;
}

h3 {
    font-size: 1.3rem;
    margin: 1.5rem 0 0.0rem -0.0rem;
}
h4 {
    font-size: 1.0rem;
    margin: 1.5rem 0 0.0rem -0.0rem;
}
h5 {
    font-size: 0.8rem;
    margin: 1.5rem 0 0.0rem -0.0rem;
    font-style: italic;
}

p {
    margin: 1.1rem 0 1.1rem 0;
    font-size: 1.1rem;
}

a, a:visited {
    color: rgba(43, 102, 211, 1.0) /* Obtained by colorpicking `Hyperlink`s in MMF */
}

ul {
    padding: 0 0 0 1.5rem;
    margin: 1.0rem 0 1.0rem 0.5rem;
}
ul ul {
    margin: 0.6rem 0 -0.6rem 0;
    padding: 0 0 0 2.1rem;
}

li {
    padding: 0 0 0.6rem 0;

    font-size: 1.1rem;
}

code {
    padding: 0.2rem 0.5rem;
    border-radius: 0.5rem;
    background-color: rgba(0, 0, 75, 0.09);
}
div.sourceCode {
    
    padding: 1.6rem 1.5rem;
    border-radius: 1.1rem; /*0.3rem;*/
    background-color: rgba(0, 0, 75, 0.055);
}

blockquote {
    margin-inline-start: unset;
    border-width: 0.25rem;
}

blockquote.markdown-alert {
    color: unset;
}

blockquote.markdown-alert.note { /* These colors are copied from the source code at https://github.com/orgs/community/discussions/16925 */
    border-left-color: #0969da;
}
blockquote.markdown-alert.tip {
    border-left-color: #1a7f37;
}
blockquote.markdown-alert.important {
    border-left-color: #8250df;
}
blockquote.markdown-alert.warning {
    border-left-color: #bf8700;
}

blockquote.markdown-alert.caution {
    border-left-color: #cf222e;
}

blockquote.markdown-alert > .markdown-alert-title {
    font-size: 1.2rem;
}

blockquote.markdown-alert.note > .markdown-alert-title {
    color: #0969da;
}
blockquote.markdown-alert.tip > .markdown-alert-title {
    color: #1a7f37;
}
blockquote.markdown-alert.important > .markdown-alert-title {
    color: #8250df;
}
blockquote.markdown-alert.warning > .markdown-alert-title {
    color: #9a6700;
}
blockquote.markdown-alert.caution > .markdown-alert-title {
    color: #d1242f;
}

.annotation {
    font-size: 1.1rem;
}
img {
    max-width: 100%;
    height: auto;
    
    border-radius: 1.0rem;
    box-shadow: 0 0.2rem 0.4rem 0.0rem rgba(0, 0, 0, 0.15), 0 0.2rem 1.7rem 0.0rem rgba(0, 0, 0, 0.15);

    display: block;
    margin: 1.4rem auto 1.8rem auto;
}

hr {
    border: none;
    height: 3px;
    background-color: rgba(0, 0, 0, 0.12);

    margin: 1.7rem 0 1.7rem 0;
}

details > summary {
    font-size: 1.0rem;
    cursor: pointer;
}
details > p {
    margin-top: 0; /* Looks weird but matches GitHub as of [Feb 2025] */
}

@media (prefers-color-scheme: light) {

    /* I don't think we need this. Light is just the default, right? */

    h1 {
        color: #272727;
    }

    a {
        color: #0948be;
    }
}

@media (prefers-color-scheme: dark) {

    body {
        background-color: #1e1e1e;
        /* ^^^ Sparkle background is still bright when we have `background-color: transparent` even with darkmode active. 
            This is the color of the text field background in Apple Mail on macOS 11 BigSur 
            
            Edit: This was because pandoc made the background white, which we've overriden now. So now this is not necessary anymore. Might want to reenable for testing in Safari.
            Edit 2: [Jan 2025] Color-picked the bg of the Sparkle window when we set a transparent background: 1e1e1e aka rgba(30, 30, 30, 1.0) –– Will just leave this on so testing in Safari doesn't have a white bg.
            */
        
        color: rgba(255, 255, 255, 0.9); /* For headers */
    }

    li, p {
        color:rgba(255, 255, 255, 0.8);
    }
    a, a:visited { /* Need to include a:visited otherwise it will be set by pandoc */
        color: #3586FF;
    }
    hr {
        background-color: rgba(255, 255, 255, 0.15);
    }
    code {
        background-color: rgba(255, 255, 255, 0.16);
    }
    div.sourceCode {
        background-color: rgba(255, 255, 255, 0.08);
    }

    h1:after, h2:after {
        content:' ';
        display: block;
        border: 0.5px solid rgba(255, 255, 255, 0.15);
    }
}