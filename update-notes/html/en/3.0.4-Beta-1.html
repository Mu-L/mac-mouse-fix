<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>-</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <style> 

      /* Following this tutorial: https://devilgate.org/blog/2012/07/02/tip-using-pandoc-to-create-truly-standalone-html-files/ */

      :root {
          font-size: 10px; /* 1 rem is this much */
          padding: 0 0 0 0;
          background-color: transparent; /* pandoc automatically applies styling where the bg is white. So we need to override that. */
      }

      body {
          background-color: transparent;
          margin: 0 1.2rem 2.0rem 1.2rem;
          padding: 0;
          font-family: -apple-system;
          font-size: 1.3rem;

          line-height: 1.15em;
      }

      h1, h2, h3, h4, h5, h6 {
          line-height: 1.15em;
      }

      h1:after, h2:after {
          content:' ';
          display: block;
          border: 0.5px solid rgba(0, 0, 0, 0.12);
      }
      h1:after {
          margin: 0.6rem 0 0 0;
      }
      h2:after {
          margin: 0.4rem 0 0 0;
      }

      h1 {
          font-size: 2.2rem;
          margin: 2.2rem 0 1.3rem -0.0rem;
      }

      h2 {
          font-size: 1.7rem;
          margin: 2.0rem 0 1.7rem -0.0rem;
      }

      h3 {
          font-size: 1.3rem;
          margin: 1.5rem 0 0.0rem -0.0rem;
      }
      h4 {
          font-size: 1.0rem;
          margin: 1.5rem 0 0.0rem -0.0rem;
      }
      h5 {
          font-size: 0.8rem;
          margin: 1.5rem 0 0.0rem -0.0rem;
          font-style: italic;
      }

      p {
          margin: 1.1rem 0 1.1rem 0;
          font-size: 1.1rem;
      }

      a, a:visited {
          color: rgba(43, 102, 211, 1.0) /* Obtained by colorpicking `Hyperlink`s in MMF */
      }

      ul {
          padding: 0 0 0 1.5rem;
          margin: 1.0rem 0 1.0rem 0.5rem;
      }
      ul ul {
          margin: 0.6rem 0 -0.6rem 0;
          padding: 0 0 0 2.1rem;
      }

      li {
          padding: 0 0 0.6rem 0;

          font-size: 1.1rem;
      }

      code {
          padding: 0.2rem 0.5rem;
          border-radius: 0.5rem;
          background-color: rgba(0, 0, 75, 0.09);
      }
      div.sourceCode {
      
          padding: 1.6rem 1.5rem;
          border-radius: 1.1rem; /*0.3rem;*/
          background-color: rgba(0, 0, 75, 0.055);
      }

      blockquote {
          margin-inline-start: unset;
          border-width: 0.25rem;
      }

      blockquote.markdown-alert {
          color: unset;
      }

      blockquote.markdown-alert.note { /* These colors are copied from the source code at https://github.com/orgs/community/discussions/16925 */
          border-left-color: #0969da;
      }
      blockquote.markdown-alert.tip {
          border-left-color: #1a7f37;
      }
      blockquote.markdown-alert.important {
          border-left-color: #8250df;
      }
      blockquote.markdown-alert.warning {
          border-left-color: #bf8700;
      }

      blockquote.markdown-alert.caution {
          border-left-color: #cf222e;
      }

      blockquote.markdown-alert > .markdown-alert-title {
          font-size: 1.2rem;
      }

      blockquote.markdown-alert.note > .markdown-alert-title {
          color: #0969da;
      }
      blockquote.markdown-alert.tip > .markdown-alert-title {
          color: #1a7f37;
      }
      blockquote.markdown-alert.important > .markdown-alert-title {
          color: #8250df;
      }
      blockquote.markdown-alert.warning > .markdown-alert-title {
          color: #9a6700;
      }
      blockquote.markdown-alert.caution > .markdown-alert-title {
          color: #d1242f;
      }

      .annotation {
          font-size: 1.1rem;
      }
      img {
          max-width: 100%;
          height: auto;
      
          border-radius: 1.0rem;
          box-shadow: 0 0.2rem 0.4rem 0.0rem rgba(0, 0, 0, 0.15), 0 0.2rem 1.7rem 0.0rem rgba(0, 0, 0, 0.15);

          display: block;
          margin: 1.4rem auto 1.8rem auto;
      }

      hr {
          border: none;
          height: 3px;
          background-color: rgba(0, 0, 0, 0.12);

          margin: 1.7rem 0 1.7rem 0;
      }

      details > summary {
          font-size: 1.0rem;
      }
      details > p {
          margin-top: 0; /* Looks weird but matches GitHub as of [Feb 2025] */
      }

      @media (prefers-color-scheme: light) {

          /* I don't think we need this. Light is just the default, right? */

          h1 {
              color: #272727;
          }

          a {
              color: #0948be;
          }
      }

      @media (prefers-color-scheme: dark) {

          body {
              background-color: #1e1e1e;
              /* ^^^ Sparkle background is still bright when we have `background-color: transparent` even with darkmode active. 
                  This is the color of the text field background in Apple Mail on macOS 11 BigSur 
              
                  Edit: This was because pandoc made the background white, which we've overriden now. So now this is not necessary anymore. Might want to reenable for testing in Safari.
                  Edit 2: [Jan 2025] Color-picked the bg of the Sparkle window when we set a transparent background: 1e1e1e aka rgba(30, 30, 30, 1.0) ‚Äì‚Äì Will just leave this on so testing in Safari doesn't have a white bg.
                  */
          
              color: rgba(255, 255, 255, 0.9); /* For headers */
          }

          li, p {
              color:rgba(255, 255, 255, 0.8);
          }
          a, a:visited { /* Need to include a:visited otherwise it will be set by pandoc */
              color: #3586FF;
          }
          hr {
              background-color: rgba(255, 255, 255, 0.15);
          }
          code {
              background-color: rgba(255, 255, 255, 0.16);
          }
          div.sourceCode {
              background-color: rgba(255, 255, 255, 0.08);
          }

          h1:after, h2:after {
              content:' ';
              display: block;
              border: 0.5px solid rgba(255, 255, 255, 0.15);
          }
      } 
  </style>
  <script> 
      document.addEventListener("DOMContentLoaded", function() {
    
        // Implement special blockquote styles from GitHub Markdown. See https://github.com/orgs/community/discussions/16925

        // Create map from `blockquote start` to `css classes that we attach to that blockquote`
        // Notes: 
        //  - Most symbols that we tried(Ô∏ï‚ö†‚ìò‚ùóÔ∏é‚ÑπÔ∏è‚ö†Ô∏èüí°) look really weird. The only good-looking one is ‚ö†. Using SF Symbols or the GitHub svg symbols would be better.


        const map = {
          '[!NOTE]':      {
            'class': 'markdown-alert note',
            'title': "‚ö† Note",             
          },
          '[!TIP]':       {
            'class': 'markdown-alert tip',
            'title': "‚ö† Tip",
          },
          '[!IMPORTANT]': {
            'class': 'markdown-alert important',
            'title': "‚ö† Important",
          },
          '[!WARNING]':   {
            'class': 'markdown-alert warning',
            'title': "‚ö† Warning",
          },
          '[!CAUTION]':   {
            'class': 'markdown-alert caution',
            'title': "‚ö† Caution",
          },
        };

        // Edit blockquotes, according to the map

        for (blockquote of document.querySelectorAll("blockquote")) {
          for (key in map) {

            if (blockquote.innerText.startsWith(key)) {

              // Remove the [!NOTE] key from the content
              blockquote.innerHTML = blockquote.innerHTML.replace(key, "").trim(); // This only replaces the first occurence. Src: https://stackoverflow.com/questions/3214886/javascript-replace-only-replaces-first-match

              // Remove weird extra linebreaks
              //  Explanation: If you put more than one space after [!CAUTION], then pandoc will insert weird extra linebreaks, which will mess up formatting. This fixes that.
              if (blockquote.firstChild.innerHTML.startsWith("<br>")){
                blockquote.firstChild.innerHTML = blockquote.firstChild.innerHTML.replace("<br>", "");
              }
              // Add classes
              const newClasses = map[key]['class'].split(" ")
              blockquote.classList.add(...newClasses);

              // Insert element for holding the title (The title says sth like "‚ìò Note")
              const titleP = document.createElement('p')
              titleP.className = 'markdown-alert-title'
              titleP.innerText = map[key]['title']

              blockquote.prepend(titleP)
            }
          }
        };
      }); 
  </script>            
</head>
<body>
<!-- **Full Changelog**: https://github.com/noah-nuebling/mac-mouse-fix/compare/3.0.3...3.0.4-Beta-1 -->
<p>Mac Mouse Fix <strong>3.0.4 Beta 1</strong> improves privacy,
efficiency, and reliability.<br />
It introduces a new offline licensing system, and fixes several
important bugs.</p>
<h3 id="enhanced-privacy-efficiency">Enhanced Privacy &amp;
Efficiency</h3>
<ul>
<li>Introduces a new offline license validation system that minimizes
internet connections.</li>
<li>The app now connects to the internet only when absolutely necessary,
protecting your privacy and reducing resource usage.</li>
<li>The app operates completely offline during normal use when
licensed.</li>
</ul>
<details>
<summary>
<b>Detailed Privacy Information</b>
</summary>
<p>Previous versions validated licenses online at every launch,
potentially allowing connection logs to be stored by third-party servers
(GitHub and Gumroad). The new system eliminates unnecessary connections
‚Äì after the initial license activation, it only connects to the internet
if local license data is corrupted. <br><br> While no user behavior was
ever recorded by me personally, the previous system theoretically
allowed third-party servers to log IP addresses and connection times.
Gumroad could also log your license key and potentially correlate it to
any personal info they recorded about you when you bought Mac Mouse Fix.
<br><br> I didn‚Äôt consider these subtle privacy issues when I built the
original licensing system, but now, Mac Mouse Fix is as private and
internet-free as possible! <br><br> Also see
<a href=https://gumroad.com/privacy>Gumroad‚Äôs privacy policy</a> and
this
<a href=https://github.com/noah-nuebling/mac-mouse-fix/issues/976#issuecomment-2140955801>GitHub
comment</a> of mine.</p>
</details>
<h3 id="bug-fixes">Bug Fixes</h3>
<ul>
<li>Fixed a bug where macOS would sometimes get stuck when using ‚ÄòClick
and Drag‚Äô for ‚ÄòSpaces &amp; Mission Control‚Äô.
<!-- See this [git commit](https://github.com/noah-nuebling/mac-mouse-fix/commit/e8f90d2f32829e3e5f1621fa8e4b58634c9ea07b). I could credit the guy who asked for this in an Issue, but I don't remember where. --></li>
<li>Fixed a bug where keyboard shortcuts in System Settings would
sometimes get deleted when using a ‚ÄòClick‚Äô action defined in Mac Mouse
Fix such as ‚ÄòMission Control‚Äô.
<!-- This would commonly affect the keyboard shortcuts 'Mission Control' (‚åÉ‚Üë), 'Move left a space' (‚åÉ‚Üê), and 'Move right a space' (‚åÉ‚Üí). See this [git commit](https://github.com/noah-nuebling/mac-mouse-fix/commit/081b0ef2e78523aeefb2fe5578e9af69dbd00a1d).
         - We thought we fixed this with 4a0b26ade34c07621c9ace6eca67f16dd321b2e9 by putting everything on the main thread, but failing to reset the SHK params still sometimes happens. The real thing that prevents user-facing issues is that we updated shkBindingIsUsable() to not flag arrow-keys as 'unusable' (in 081b0ef2e78523aeefb2fe5578e9af69dbd00a1d) so it won't try to override those shortcuts. --></li>
<li>Fixed <a
href="https://github.com/noah-nuebling/mac-mouse-fix/issues?q=state%3Aopen%20label%3A%22%27Free%20days%20are%20over%27%20bug%22">a
bug</a> where the app would sometimes stop working and show a
notification that the ‚ÄòFree days are over‚Äô to users who had already
bought the app.
<ul>
<li>If you experienced this bug, I sincerely apologize for the
inconvenience. You can apply for a <a
href="https://redirect.macmousefix.com/?message=&amp;target=mmf-apply-for-refund">refund
here</a>.</li>
</ul></li>
</ul>
<!--
<details><summary><b>Note for affected users</b></summary>
<br>
This problem would happen when the license-validation server had an "Internal Server Error". The new licensing system handles this gracefully.

If you experienced the 'Free days are over' bug, I sincerely apologize for the inconvenience. You can apply for a [refund here](https://redirect.macmousefix.com/?message=&target=mmf-apply-for-refund). 
</details>
-->
<h3 id="technical-improvements">Technical Improvements</h3>
<ul>
<li>Implemented a new ‚ÄòMFDataClass‚Äô system allowing for cleaner data
modeling and human-readable configuration files.</li>
<li>Built support for adding payment platforms other than Gumroad. So in
the future, there might be localized checkouts, and the app might be
sold to different countries!</li>
</ul>
<h3 id="dropped-unofficial-support-for-macos-10.14-mojave">Dropped
(Unofficial) Support for macOS 10.14 Mojave</h3>
<p>Mac Mouse Fix 3 officially supports macOS 11 Big Sur and later.
However, for users willing to accept some glitches and graphical issues,
Mac Mouse Fix 3.0.3 and earlier could still be used on macOS 10.14.4
Mojave.</p>
<p>Mac Mouse Fix 3.0.4 drops that support and <strong>now requires macOS
10.15 Catalina</strong>.<br />
I apologize for any inconvenience caused by this. This change allowed me
to implement the improved licensing system using modern Swift features.
Mojave users can continue using Mac Mouse Fix <a
href="https://github.com/noah-nuebling/mac-mouse-fix/releases/tag/3.0.3">3.0.3</a>
or the <a
href="https://redirect.macmousefix.com/?target=mmf2-latest">latest
version of Mac Mouse Fix 2</a>. I hope that‚Äôs a good solution for
everyone. <!-- Specifically Swift Tasks IIRC --></p>
<p><em>Edited with excellent assistance from Claude.</em></p>
<hr />
<p>Also check out the previous release <a
href="https://github.com/noah-nuebling/mac-mouse-fix/releases/tag/3.0.3"><strong>3.0.3</strong></a>.</p>
<!--

- Created a robust mechanism for running cleanup-code when Mac Mouse Fix is disabled. This is not currently in use, but it should be useful once Mac Mouse Fix can configure the mouse pointer acceleration, because this can only be done by configuring the state of Apple's mouse driver, and so Mac Mouse Fix will need to 'deconfigure' Apple's mouse driver before it is disabled.

-->
<!-- Hyperwork merge commit notes:

commit 08601b5956cc494432000421e647371a62d38954
Merge: b639b26d1 d2029c5c0
Author: Noah Nuebling <noah.n.public@gmail.com>
Date:   Thu Nov 7 17:59:51 2024 +0100

    Merge branch 'hyperwork'

    This branch originally meant for building integration with the HyperWork mouse company who asked me for a collaboration. They would ship MMF licenses with their mice and the app would show a little branding message on the About tab when one of those licenses was activated.

    But they stopped answering at some point. So we repurposed the work on this branch. For a rewrite of the licensing system that adds support for offline validation.

    This merge commit contains:

    1. A rewritten licensing system, that:
            - Is much cleaner and more extensible. Now it should be much easier to build integration with Paddle or new licenseTypes in the future.
            - Supports fully offline license validation under normal operation, and avoids downloading licenseConfig unless it's actually needed - minimizing internet connections as much as possible and protecting privacy.
            - Should fix a bug where the app would show the 'You've been using the app for 30 days' trial notification when there was an internal server error in the Gumroad license server.

    2. Added lots of utility code to help implement the new licensing system:
            - MFDataClass - provides a nice, easy way to to create data containers in Objective-C that have neat autogenerated functionality like an `-initWith...` method, NSSecureCoding support, debug printing of an instance's contents, equality-checking that compares each member, initialization from JSON with nullability and type checks, nice support for Swift, and more.
                    -> It brings the convenience of using Swift structs with autogenerated protocol conformance for 'Codable' 'Equatable', etc to objc objects! - which are more flexible and usable in both our objc and Swift code.
            - MFDefer macro - which lets us use Go/Swift-style defer in C/ObjC code
            - threadlocal() macro which lets us easily put objects into thread local storage.
            - MFEncode()/MFDecode() functions that are neat wrappers/documentation around the highly confusing NSKeyedArchiver()/NSKeyedUnarchiver() APIs
            - More neat utility code that will hopefully be useful.

-->
<!--

Meta reflection:
Wow reviewing the commits for this was kinda terrible. I seem to use the commit notes for 2 things: 1. Guiding my self-code-review where I look at every single change I made in the commit to catch issues. This produces very verbose notes. 2. Documenting user-facing changes, which I want to mention in update notes. Maybe I could make a habit of summarizing "program-behavior changes" at the top, since only that is relevant for writing update notes, and reading through the code-review notes after-the-fact a hugeee slog.

-->
<!--
    
    EXTREMELY DETAILED PRIVACY INFORMATION

    **How exactly does the app behave now regarding internet connections?**

    Both the main "Mac Mouse Fix" app as well as the "Mac Mouse Fix Helper" app, (which runs in the background when Mac Mouse Fix is enabled) should now never connect to the internet under normal circumstances, as long as the app is licensed and the "Check for Updates" option is disabled.

    By "normal circumstances" I mean: as long as the offline license information on your computer is not lost or corrupted, which normally does not happen.

    If the app is not licensed, yet, it will connect to macmousefix.com during normal operation, to download some information that it needs to function properly. For example, it will download the current price of the app, so it can show that on the About tab.

    Aside from that, the app should never connect your computer to the internet without you taking explicit action, such as clicking on a link or choosing to download a specific update.

    **How did the app behave prior?**

    Before this update, the "Mac Mouse Fix Helper" app would communicate with the internet every time it was launched to validate that the app's license is valid and to download other license-related information. This would happen whenever your computer was restarted while Mac Mouse Fix was enabled and when you disabled and re-enabled Mac Mouse Fix.

    When opening the main "Mac Mouse Fix" app, it would also perform the same connections.

    **Privacy implications of the prior behavior**

    While I do not and have never recorded any information about these internet connections, the companies who run the servers that Mac Mouse Fix connects to could possibly record information about the connections. (Those companies are GitHub and Gumroad). While Mac Mouse Fix didn't directly send any personal information. These companies could have logged your IP address, and the time of the connection. Additionally, the app would send your license key to Gumroad on every launch, to have them validate it. Gumroad could have feasibly correlated the sent license key with any information you entered while buying Mac Mouse Fix on Gumroad.com. Because Gumroad processes your purchase of Mac Mouse Fix, then generates your license key, and then validates the license key whenever you run the app.

    I asked Gumroad and they claim to store logs about these requests for 1 year and then delete them. As of Feburary 2025, they haven't so far answered when I asked them whether they store any info that could be correlated with your personal information or your behavior (That would be your license key and the time of request).

    You can find Gumroad's privacy policy [here](https://gumroad.com/privacy).

    COMMENT: After saying they store the logs of API-request's *IP Address* and *Product ID* for 1 year, Gumroad support hasn't answered about whether they also store the *Request Time* and the *License Key* and whether they  correlate the logged info with personal info to track users. I've now followed up with them [Feb 18 2025] to ask again. Should maybe update this if they reply. 

    Realistically, I think there are probably much easier and more effective ways to track user behavior than this, but I just wanted to explain all possible privacy implications that I'm aware of, for those who are interested, so that you can form your own view and make your own decisions. Mac Mouse Fix 3.0.4 will only connect to Gumroad's servers when you initially activate your license, or ‚Äì after that ‚Äì¬†in case the offline license information on your computer is lost.

     **Why did Mac Mouse Fix make unnecessary internet connections before?**
    
    The code for doing it that way was much easier and less time-consuming to write. To make code work can be hard. To make it work and be very efficient is usually much harder. When I wrote the original code I was focused on shipping Mac Mouse Fix 3 which already took a long time, so I couldn't afford to optimize it more at that time.

    Also see:
    - This [GitHub Issue comment](https://github.com/noah-nuebling/mac-mouse-fix/issues/976#issuecomment-2140955801) about the "Free days are over" bug, where I also discussed the privacy implications.
    - This [git commit](https://github.com/noah-nuebling/mac-mouse-fix/commit/02b46ddcd1823873768b8c89e89753b86476ac47) where I began implementing the offline validation system.
    


- These [commit notes](https://github.com/noah-nuebling/mac-mouse-fix/commit/0183adb9e2c4e6867844776bac3e4598083b86d2) mentioning possible tracking by GitHub.

-->
<!--
    - Forced all the licensing code onto the mainThread and removed force-unwraps -> Should generally be more robust and stable.
    - Added `@MainActor` to all the Task.detached calls. That makes it so all our licensing code runs on the main thread. This might help prevent race-conditions. 02f9752d010813d748c0939a98c1d27760eefece
    - Added new user-facing message when the license server has an internal server error. b005d8bdde2203a304e643f0f7fcb37e6d8677ac
    - We download the licenseConfig directly into memory instead of loading it into a file and then reading the file. bda12d64d88896b914b25723bf7ee979c8429f3b
    - Other bugfixes in the licensing system 8e129e235fdbe5ae024edeadf684a11ae789ec75
-->
</body>
</html>
