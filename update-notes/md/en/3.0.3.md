**Note to Mac Mouse Fix 2 Users**

 With the introduction of Mac Mouse Fix 3, the pricing model of the app has changed:
 
 - **Mac Mouse Fix 2**\
 Remains 100% free, and I plan to keep supporting it.\
**Skip this update** to keep using Mac Mouse Fix 2. Download the latest version of Mac Mouse Fix 2 [here](https://redirect.macmousefix.com/?target=mmf2-latest).
 - **Mac Mouse Fix 3**\
 Free for 30 days, costs a few dollars to own.\
 **Update now** to get Mac Mouse Fix 3!

You can learn more about the pricing and features of Mac Mouse Fix 3 on the [new website](https://macmousefix.com/).

Thanks for using Mac Mouse Fix! :)

---

**Note to Mac Mouse Fix 3 Buyers**

If you accidentally updated to Mac Mouse Fix 3 without knowing that it's not free anymore, I'd like to offer you a [refund](https://redirect.macmousefix.com/?target=mmf-apply-for-refund).

The latest version of Mac Mouse Fix 2 stays **entirely free**, and you can download it [here](https://redirect.macmousefix.com/?target=mmf2-latest).

I'm sorry for the hassle, and I hope everyone is ok with this as a solution!

---

Mac Mouse Fix **3.0.3** is ready for macOS 15 Sequoia. It also fixes some stability issues and provides several small improvements.

### macOS 15 Sequoia support

The app now works properly under macOS 15 Sequoia!

- Most UI animations were broken under macOS 15 Sequoia. Now everything's working properly again!
- The source code is now buildable under macOS 15 Sequoia. Before, there were issues with the Swift compiler preventing the app from building.

### Addressing scroll crashes

Since Mac Mouse Fix 3.0.2 there were [multiple reports](https://github.com/noah-nuebling/mac-mouse-fix/issues/988) of Mac Mouse Fix periodically disabling and re-enabling itself while scrolling. This was caused by crashes of the 'Mac Mouse Fix Helper' background app. This update attempts to fix these crashes, with the following changes:

- The scrolling mechanism will try to recover and keep running instead of crashing, when it encounters the edge case that seems to have led to these crashes. 
- I changed the way that unexpected states are handled in the app more generally: Instead of always crashing immediately, the app will now try to recover from unexpected states in many cases. 
    <!-- - This is achieved by adding the `NDEBUG` compiler flag, and restructuring some code that uses so-called `assert` statements. -->
    - This change contributes to the fixes for the scroll crashes described above. It might also prevent other crashes.
  
Sidenote: I could never reproduce these crashes on my machine, and I'm still not sure what caused them, but based on the reports I received, this update should prevent any crashes. If you still experience crashes while scrolling or if you *did* experience crashes under 3.0.2, it would be valuable if you shared your experience and diagnostic data in GitHub Issue [#988](https://github.com/noah-nuebling/mac-mouse-fix/issues/988). This would help me understand the issue and improve Mac Mouse Fix. Thank you!

### Addressing scroll stutters

In 3.0.2 I made changes to how Mac Mouse Fix sends scroll events to the system in an attempt to reduce scroll stutters likely caused by issues with Apple's VSync APIs.

However, after more extensive testing and feedback, it seems that the new mechanism in 3.0.2 makes scrolling smoother in some scenarios but more stuttery in others. Especially in Firefox it seemed to be noticeably worse. \
Overall, it was not clear that the new mechanism actually improved scroll stutters across the board. Also, it might have contributed to the scroll crashes described above.

That's why I disabled the new mechanism and reverted the VSync mechanism for scroll events back to how it was in Mac Mouse Fix 3.0.0 and 3.0.1. 

See GitHub Issue [#875](https://github.com/noah-nuebling/mac-mouse-fix/issues/875) for more info.

### Refund

I am sorry for the trouble related to the scrolling changes in 3.0.1 and 3.0.2. I vastly underestimated the problems that would come with that, and I was slow to address these issues. I'll do my best to learn from this experience and be more careful with such changes in the future. I'd also like to offer anyone affected a refund. Just click [here](https://redirect.macmousefix.com/?target=mmf-apply-for-refund) if you're interested.

### Smarter update mechanism

These changes were brought over from Mac Mouse Fix [2.2.4](https://github.com/noah-nuebling/mac-mouse-fix/releases/tag/2.2.4) and [2.2.5](https://github.com/noah-nuebling/mac-mouse-fix/releases/tag/2.2.5). Check out their release notes to learn more about the details. Here's a summary:

- There's a new, smarter mechanism that decides which update to show the user.
- Switched from using the Sparkle 1.26.0 update framework to the latest Sparkle [1.27.3](https://github.com/sparkle-project/Sparkle/releases/tag/1.27.3).
- The window that the app displays to inform you that a new version of Mac Mouse Fix is available now supports JavaScript, which allows for nicer formatting of the update notes.

### Other Improvements & Bug Fixes

- Fixed an issue where the app price and related info would be displayed incorrectly on the 'About' tab in some cases.
- Fixed an issue where the mechanism for syncing the smooth scrolling with the display refresh rate didn't work properly while using multiple displays.
- Lots of minor under-the-hood cleanup and improvements.

---

Also check out the previous release [**3.0.2**](https://github.com/noah-nuebling/mac-mouse-fix/releases/tag/3.0.2).

<!-- - Maybe other things I forgot to mention. -->

<!--

DRAFT:

- Updated fallback_licenseinfo_config.json. This should prevent issue where price is shown wrong sometimes, and free countries aren't free (when the app has never connected to the internet or the licenseinfo cache is lost (forgot where it's cached?))
- Fixed UI animations which broke under macOS 15 Sequoia. By using new mechanism in private APIs that we use to get beautiful animations to prepare the animations.
- Changes to the scrolling mechanism to attempt to fix crashes (https://github.com/noah-nuebling/mac-mouse-fix/issues/988)
    - Don't know why this happened and could never ever reproduce the crashes on my machine, but the code it more robust now and tries to recover if it ends up in a weird state instead of crashing.
- Added NDEBUG compiler flag for releases. This prevents the app from crashing on assert() failures. Made some internal restructuring to make this possible (returns and exit(1) in some places) - Overall more robust - Might fix other crashes as well. This also contributed to the scroll crashes (https://github.com/noah-nuebling/mac-mouse-fix/issues/988)

v-coba-commit: ebce9d423b063015b112aa0011e8175e3a64c8ac
v-coba-cleanup-commit: 1625562b53743fd4f273393cb58dfe647a65bfc1

- Fixed code for syncing scrolling with the display refresh rate when there are multiple monitors.
    - Change that caused this is just that [ScrollUtility updateMouseDidMoveWithEvent:event] is now being called in Scroll.m
- Changed the displayLinkCallback() scheduling back to the native scheduling (which was used pre 3.0.2 and in the original 3.0.2-v-coba build) This should improve scrolling in some scenarios, e.g. in Firefox, but also might worsen scrolling performance in other scenarios. Overall it should be more stable though and less prone to introducing bugs in the rest of the scrolling system.
- Mostly rewrote the scheduling code inside displayLinkCallback() to be more flexible and clear. (and other changes to scrolling system. Is that good?) (commit 1625562b53743fd4f273393cb58dfe647a65bfc1 )
    - TODO: Review this. Review: Outside of displayLinkCallback()` we seem to have only reordered things and added some comments. TODO2: Review the current scheduling code.

- Implemented new mechanism for deciding which update to present to the user:
    - If you skip a major update (2.x.x -> 3.x.x), you'll still be notified of new minor updates (2.0.1 -> 2.0.2)
    - If you skip a minor update, you'll still be notified when the next minor update comes out, or when there's a major update.
    - When updating to a new major version, you'll always update to the first stable release first (such as 3.0.0, or 4.0.0) even when there's a newer point release available. That's so you can see the changelog for the x.0.0 version which might contain all the new features of the major version and other important info for people updating from a previous major version (such as the info about the pricing changes which people updating from MMF 2.x.x directly to 3.0.1, or 3.0.2 didn't see at all)
    - (Brought over changes from 2.2.4)
        - Enabled javascript inside update notes. This lets us display alert-style blockquote ala GitHub markdown.
        - ... 

- Made some changes to the code base to prevent Swift 6 compiler crashes, which makes the app buildable with the latest Xcode toolchain.
- Lots of under the hood cleanup and improvements.

-->